[gd_scene load_steps=13 format=4 uid="uid://dn2w4nmpeapij"]

[ext_resource type="TileSet" uid="uid://u72sodfjq7s4" path="res://src/tilesets/tile_set.tres" id="1_gwocj"]
[ext_resource type="PackedScene" uid="uid://bsg0351mx3b4u" path="res://addons/MetroidvaniaSystem/Nodes/RoomInstance.tscn" id="1_jovwi"]
[ext_resource type="Shader" path="res://src/shaders/sprite.gdshader" id="1_u41t4"]
[ext_resource type="Script" path="res://src/scripts/sprite.gd" id="3_7lvi0"]
[ext_resource type="PackedScene" uid="uid://x0rtbtakmw12" path="res://src/door_boost.tscn" id="3_g8t04"]
[ext_resource type="PackedScene" uid="uid://b525sop58wfot" path="res://src/enemies/crawler.tscn" id="4_doeex"]
[ext_resource type="TileSet" uid="uid://cmtmexxct5108" path="res://src/tilesets/bts_tileset.tres" id="5_htfsx"]
[ext_resource type="Script" path="res://src/scripts/bts_layer.gd" id="6_22yaa"]
[ext_resource type="Texture2D" uid="uid://dd0f64sjma5ai" path="res://assets/sprites/backgrounds/underground.png" id="7_hugsm"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_an3r8"]
shader = ExtResource("1_u41t4")
shader_parameter/skip_first_row = true
shader_parameter/use_palette_alpha = false
shader_parameter/fps = 6.0
shader_parameter/red_displacement = 0.0
shader_parameter/green_displacement = 0.0
shader_parameter/blue_displacement = 0.0
shader_parameter/ghost = 0.0
shader_parameter/intensity = 0.0
shader_parameter/scan_effect = 0.0
shader_parameter/distortion_effect = 0.0
shader_parameter/negative_effect = 0.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_pomvw"]
size = Vector2(48, 20)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_m3ygi"]
shader = ExtResource("1_u41t4")
shader_parameter/skip_first_row = true
shader_parameter/use_palette_alpha = false
shader_parameter/fps = 6.0
shader_parameter/red_displacement = 0.0
shader_parameter/green_displacement = 0.0
shader_parameter/blue_displacement = 0.0
shader_parameter/ghost = 0.0
shader_parameter/intensity = 0.0
shader_parameter/scan_effect = 0.0
shader_parameter/distortion_effect = 0.0
shader_parameter/negative_effect = 0.0

[node name="Tower" type="Node2D" groups=["level", "underground"]]

[node name="Layer1" type="TileMapLayer" parent="."]
material = SubResource("ShaderMaterial_an3r8")
tile_map_data = PackedByteArray("AAAQAP//AwALAAAAAAAPAP//AwAKAAAAAAAOAP//AwAKAAAAAAANAP//AwAKAAAAAAAMAP//AwAKAAAAAAALAP//AwAKAAAAAAAKAP//AwAKAAAAAAAJAP//AwAIAAAAAAAQABYAAwALAAMAAAAQABUAAwALAAIAAAAQABQAAwALAAIAAAAQABMAAwALAAIAAAAQABIAAwALAAIAAAAQABEAAwALAAIAAAAQABAAAwALAAIAAAAQAA8AAwALAAIAAAAQAA4AAwALAAIAAAAQAA0AAwALAAIAAAAQAAwAAwALAAIAAAAQAAsAAwALAAIAAAAQAAoAAwALAAIAAAAQAAkAAwALAAIAAAAQAAgAAwALAAIAAAAQAAcAAwALAAIAAAAQAAYAAwALAAIAAAAQAAUAAwALAAIAAAAQAAQAAwALAAIAAAAQAAMAAwALAAIAAAAQAAIAAwALAAIAAAAQAAEAAwALAAIAAAAQAAAAAwALAAIAAAAPAAAAAwAFAAIAAAAPAAEAAwAIAAEAAAAPAAIAAwAIAAEAAAAPAAMAAwAIAAEAAAAPAAQAAwAIAAEAAAAPAAUAAwAIAAEAAAAPAAYAAwAIAAEAAAAPAAcAAwAIAAEAAAAPAAgAAwAIAAIAAAAPAAkAAwAIAAEAAAAPAAoAAwAIAAEAAAAPAAsAAwAIAAEAAAAPAAwAAwAIAAEAAAAPAA0AAwAIAAEAAAAPAA4AAwAIAAEAAAAPAA8AAwAIAAEAAAAPABAAAwAIAAEAAAAPABEAAwAIAAEAAAAPABIAAwAIAAEAAAAPABMAAwAIAAEAAAAPABQAAwAIAAEAAAAPABUAAwAIAAEAAAAPABYAAwAFAAMAAAAJAAAAAwAIAAMAAAAKAAAAAwAJAAMAAAALAAAAAwAJAAMAAAAMAAAAAwAJAAMAAAANAAAAAwAJAAMAAAAOAAAAAwAJAAMAAAD/////AwAIAAAAAAAAAP//AwAKAAAAAAABAP//AwAKAAAAAAACAP//AwAKAAAAAAADAP//AwAKAAAAAAAEAP//AwAKAAAAAAAFAP//AwAKAAAAAAAGAP//AwALAAAAAAD//wAAAwAIAAEAAAAAAAAAAwAGAAIAAAABAAAAAwAJAAMAAAACAAAAAwAJAAMAAAADAAAAAwAJAAMAAAAEAAAAAwAJAAMAAAAFAAAAAwAJAAMAAAAGAAAAAwALAAMAAAAAABsAAwALAAIAAAAAABoAAwALAAEAAAAAABkAAwALAAIAAAAAABgAAwALAAIAAAAAABcAAwALAAIAAAAAABYAAwALAAIAAAAAABUAAwALAAIAAAAAABQAAwALAAIAAAAAABMAAwALAAIAAAAAABIAAwALAAIAAAAAABEAAwALAAIAAAAAABAAAwALAAIAAAAAAA8AAwALAAIAAAAAAA4AAwALAAIAAAAAAA0AAwALAAIAAAAAAAwAAwALAAIAAAAAAAsAAwALAAIAAAAAAAoAAwALAAIAAAAAAAkAAwALAAIAAAAAAAgAAwALAAIAAAAAAAcAAwALAAIAAAAAAAYAAwALAAIAAAAAAAUAAwALAAIAAAAAAAQAAwALAAIAAAAAAAMAAwALAAIAAAAAAAIAAwALAAIAAAAAAAEAAwALAAIAAAD//wEAAwAIAAEAAAD//wIAAwAIAAEAAAD//wMAAwAIAAEAAAD//wQAAwAIAAEAAAD//wUAAwAIAAEAAAD//wYAAwAIAAEAAAD//wcAAwAIAAEAAAD//wgAAwAIAAEAAAD//wkAAwAIAAEAAAD//woAAwAIAAEAAAD//wsAAwAIAAEAAAD//wwAAwAIAAEAAAD//w0AAwAIAAEAAAD//w4AAwAIAAEAAAD//w8AAwAIAAEAAAD//xAAAwAIAAEAAAD//xEAAwAIAAEAAAD//xIAAwAIAAEAAAD//xMAAwAIAAEAAAD//xQAAwAIAAEAAAD//xUAAwAIAAEAAAD//xYAAwAIAAEAAAD//xcAAwAIAAEAAAD//xgAAwAIAAEAAAD//xkAAwAIAAEAAAD//xoAAwAIAAEAAAD//xsAAwAIAAEAAAAQABsAAwALAAIAAAAQABoAAwALAAAAAAAPABsAAwAIAAEAAAAPABoAAwAFAAAAAAAQACoAAwALAAMAAAAQACkAAwALAAIAAAAQACgAAwALAAIAAAAQACcAAwALAAIAAAAQACYAAwALAAIAAAAQACUAAwALAAIAAAAQACQAAwALAAIAAAAQACMAAwALAAIAAAAQACIAAwALAAIAAAAQACEAAwALAAIAAAAQACAAAwALAAIAAAAQAB8AAwALAAIAAAAQAB4AAwALAAIAAAAQAB0AAwALAAIAAAAQABwAAwALAAIAAAAKACoAAwAIAAMAAAALACoAAwAJAAMAAAAMACoAAwAJAAMAAAANACoAAwAJAAMAAAAOACoAAwAJAAMAAAAPACoAAwAJAAMAAAAPACkAAwAFAAEAAAAOACkAAwAKAAAAAAANACkAAwAKAAAAAAAMACkAAwAKAAAAAAALACkAAwAKAAAAAAAKACkAAwAIAAAAAAAPACgAAwAIAAEAAAAPACcAAwAIAAEAAAAPACYAAwAIAAEAAAAPACUAAwAIAAEAAAAPACQAAwAIAAEAAAAPACMAAwAIAAEAAAAPACIAAwAIAAEAAAAPACAAAwAIAAEAAAAPAB8AAwAIAAEAAAAPAB4AAwAIAAEAAAAPAB0AAwAIAAEAAAAPABwAAwAIAAEAAAAAACkAAwAKAAAAAAABACkAAwAKAAAAAAACACkAAwAKAAAAAAADACkAAwAKAAAAAAAEACkAAwAKAAAAAAAFACkAAwAKAAAAAAAGACkAAwALAAAAAAAAACoAAwAJAAMAAAABACoAAwAJAAMAAAACACoAAwAJAAMAAAADACoAAwAJAAMAAAAEACoAAwAJAAMAAAAFACoAAwAJAAMAAAAGACoAAwALAAMAAAD//ykAAwAIAAAAAAD//yoAAwAIAAMAAAD//xwAAwAIAAEAAAD//x0AAwAIAAEAAAD//x4AAwAIAAEAAAD//x8AAwAIAAEAAAD//yAAAwAIAAEAAAD//yEAAwAIAAEAAAD//yIAAwAIAAEAAAD//yMAAwAIAAEAAAD//yQAAwAIAAEAAAD//yUAAwAIAAMAAAAAACUAAwALAAMAAAAAACIAAwALAAIAAAAAACEAAwALAAIAAAAAACAAAwALAAIAAAAAAB8AAwALAAIAAAAAAB4AAwALAAIAAAAAAB0AAwALAAIAAAAAABwAAwALAAIAAAAFACYAAwADAAMAAAAEACYAAwABAAMAAAAJACQAAwADAAMAAAAIACQAAwABAAMAAAAOACEAAwACAAMAAAANACEAAwACAAMAAAAMACEAAwABAAMAAAAIAB8AAwABAAMAAAAJAB8AAwADAAMAAAACABoAAwACAAMAAAABABoAAwACAAMAAAANABoAAwACAAMAAAAMABoAAwACAAMAAAAIABgAAwAKAAAAAAAHABgAAwAKAAAAAAAGABgAAwAIAAAAAAAJABgAAwALAAAAAAAHABAAAwADAAMAAAAGABAAAwABAAMAAAAEAA0AAwADAAMAAAADAA0AAwABAAMAAAAIAAoAAwADAAMAAAAHAAoAAwABAAMAAAAOAAgAAwACAAMAAAANAAgAAwACAAMAAAAMAAgAAwACAAMAAAALAAgAAwABAAMAAAAJABMAAwADAAMAAAAIABMAAwABAAMAAAAIAAUAAwADAAMAAAAHAAUAAwABAAIAAAAHAAQAAwAAAAEAAAAHAAMAAwAAAAAAAAAJABkAAwALAAIAAAAIABkAAwAJAAIAAAAHABkAAwAJAAIAAAAGABkAAwAIAAEAAAAGABoAAwAFAAMAAAAJABoAAwAGAAMAAAAAACYAAQAAAAAAAgAAACcAAQAAAAAAAgAAACgAAQAAAAAAAgAPABcAAQAAAAAAAgAPABgAAQAAAAAAAgAPABkAAQAAAAAAAgAOAAcABQADAAIAAAAHAA8ABQAAAAMAAAAOABUABQADAAIAAAAHABcABQADAAIAAAAJAB4ABQADAAIAAAAFACUABQAAAAMAAAANACgABQAAAAIAAAAOACgABQAAAAMAAAAPACEAAwAIAAIAAAAEAAEABQADAAEAAAACAAEABQADAAAAAAACAAIABQADAAEAAAANAAEABQADAAAAAAANAAIABQADAAEAAAAAACMAAwALAAIAAAAAACQAAwALAAIAAAAOACIABQADAAAAAAAOACMABQADAAEAAAAHABoAAwAJAAMAAAAIABoAAwAJAAMAAAAEAB0AAwABAAMAAAAEAB4ABQADAAAAAAAFAB0AAwADAAMAAAAFAB4ABQADAAEAAAAEAB8ABQADAAEAAAAOABoAAwACAAMAAAALABoAAwACAAMAAAAKABoAAwACAAMAAAADABoAAwACAAMAAAAEABoAAwACAAMAAAAFABoAAwACAAMAAAAIAAsABQADAAEAAAAIAAkABQAAAAIAAAANABYAAwABAAMAAAAOABYAAwACAAMAAAA=")
tile_set = ExtResource("1_gwocj")
script = ExtResource("3_7lvi0")

[node name="CollisionLayer" type="TileMapLayer" parent="."]

[node name="BTSLayer" type="TileMapLayer" parent="." node_paths=PackedStringArray("layer_1")]
tile_map_data = PackedByteArray("AAAFABoAAAAAAAAAAQAEABoAAAAAAAAAAQADABoAAAAAAAAAAQACABoAAAAAAAAAAQAKABoAAAAAAAAAAQALABoAAAAAAAAAAQAMABoAAAAAAAAAAQANABoAAAAAAAAAAQA=")
tile_set = ExtResource("5_htfsx")
script = ExtResource("6_22yaa")
layer_1 = NodePath("../Layer1")

[node name="RoomInstance" parent="." instance=ExtResource("1_jovwi")]

[node name="DoorBoos" parent="." instance=ExtResource("3_g8t04")]
position = Vector2(136, 669)

[node name="CollisionShape2D" type="CollisionShape2D" parent="DoorBoos"]
shape = SubResource("RectangleShape2D_pomvw")

[node name="Enemies" type="Node2D" parent="."]

[node name="Crawler" parent="Enemies" instance=ExtResource("4_doeex")]
position = Vector2(56, 224)
rotation = 3.14159

[node name="Crawler2" parent="Enemies" instance=ExtResource("4_doeex")]
position = Vector2(192, 144)
rotation = 3.14159

[node name="Crawler3" parent="Enemies" instance=ExtResource("4_doeex")]
position = Vector2(144, 384)

[node name="Crawler4" parent="Enemies" instance=ExtResource("4_doeex")]
position = Vector2(216, 528)

[node name="Crawler5" parent="Enemies" instance=ExtResource("4_doeex")]
position = Vector2(145, 576)

[node name="Sprite2D" type="Sprite2D" parent="."]
z_index = -1
material = SubResource("ShaderMaterial_m3ygi")
texture = ExtResource("7_hugsm")
centered = false
script = ExtResource("3_7lvi0")

[node name="Sprite2D2" type="Sprite2D" parent="."]
z_index = -1
material = SubResource("ShaderMaterial_m3ygi")
position = Vector2(0, 224)
texture = ExtResource("7_hugsm")
centered = false
script = ExtResource("3_7lvi0")

[node name="Sprite2D3" type="Sprite2D" parent="."]
z_index = -1
material = SubResource("ShaderMaterial_m3ygi")
position = Vector2(0, 448)
texture = ExtResource("7_hugsm")
centered = false
script = ExtResource("3_7lvi0")
